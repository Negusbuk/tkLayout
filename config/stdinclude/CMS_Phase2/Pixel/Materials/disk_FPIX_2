// Pixel endcap disks material
// Large disks (220 modules)
// 2.41 times bigger than small disk
// 2500 um^2 pixels everywhere

Materials FPIX_2_disk {
  type layer

  // Cooling for the module
  // Average on disk (scales on surface)
  Component {
    componentName "Cooling: Pipes & Coolant"
    service false
    scaleOnSensor 0
    Element {
      elementName Ti
      quantity 24.94
      unit g
    }
    Element {
      elementName CO2
      quantity 23.66
      unit g
    }
  }
  // fake numbers for calculating conversion with a factor of 1000
  // 16 pipes per disk
  Component {
    componentName "Cooling: Pipes & Coolant"
    service true
    scaleOnSensor 0
    Element {
      elementName FPIX_Ti
      quantity 0.0532
      unit g/m
    }
    Element {
      elementName FPIX_CO2
      quantity 0.052
      unit g/m
    }
  }

  // Power for the module
  // Average on disk
  // 28 power chains per disk
  Component {
    componentName "Cabling: Serial power chains"
    service false
    scaleOnSensor 0
    Element {
      elementName Al
      quantity 30.95
      unit g
    }
    Element {
      elementName Cu
      quantity 4.21
      unit g
    }
    Element {
      elementName PE
      quantity 11.02
      unit g
    }
  }
  // fake numbers for calculating conversion with a factor of 1000
  // 28 power chains per disk
  Component {
    componentName "Cabling: Serial power chains"
    service true
    scaleOnSensor 0
    Element {
      elementName FPIX_Al
      quantity 0.1792
      unit g/m
    }
    Element {
      elementName FPIX_Cu
      quantity 0.0244
      unit g/m
    }
    Element {
      elementName FPIX_PE
      quantity 0.0628
      unit g/m
    }
  }

  // HV power lines
  // 28 power chains per disk, 2 HV lines per power chain
  // Proportional to PP0-SEH-HV (700067231 Rev 01)
  Component {
    componentName "Cabling: High voltage lines"
    service false
    scaleOnSensor 0
    Element {
      elementName Al_HV
      quantity 12.85
      unit g
    }
    Element {
      elementName Cu
      quantity 4.58
      unit g
    }
    Element {
      elementName PE
      quantity 46.2
      unit g
    }
  }
  // fake numbers for calculating conversion with a factor of 1000
  // 28 power chains per disk, 2 HV lines per power chain
  // Proportional to PP0-SEH-HV (700067231 Rev 01)
  Component {
    componentName "Cabling: High voltage lines"
    service true
    scaleOnSensor 0
    Element {
      elementName FPIX_Al_HV
      quantity 0.0129
      unit g/m
    }
    Element {
      elementName FPIX_Cu
      quantity 0.0046
      unit g/m
    }
    Element {
      elementName FPIX_PE
      quantity 0.0462
      unit g/m
    }
  }


  // Supports Mechanics: Airex foam insert
  Component {
    componentName "Supports Mechanics: Dee Foam"
    service false
    scaleOnSensor 0
 
    Element {
      elementName Airex
      quantity 52             // 13g per dee, hence 4*13 = 52g per double-disk. Source: [1].
      unit g
      // APPROXIMATION: mass spread across a uniform disk cylinder, while there should be holes.
      // thickness approach would be: ~1.7 mm per dee, hence ~ 2*1.7 = 3.4 mm per double-disk. Source: [1].
    }
  }
 
 
  // Supports Mechanics: PCB panel
  Component {
    componentName "Supports Mechanics: Dee PCB panel"
    service false
    scaleOnSensor 0
 
    Element {
      elementName PCB_panel_EPX
      quantity 424        // 106g per dee, hence 4*106 = 424g per double-disk. Source: [1].
      unit g
      // APPROXIMATION: mass spread across a uniform disk cylinder, while there should be holes for modules.
      // thickness approach would be: ~0.28 mm per panel, hence ~ 4*0.28 = 1.12 mm per double-disk. Source: [1].
    }

  }
  
    
  // Supports Mechanics: CFRP panel (also called CFK stiffener)
  Component {
    componentName "Supports Mechanics: Dee CFRP panel"
    service false
    scaleOnSensor 0
 
    Element {
      elementName CFRP_EPX
      quantity 300          // 75g per dee, hence 4*75 = 300g per double-disk. Source: [1].
      unit g
      // APPROXIMATION: mass spread across a uniform disk cylinder, while there should be holes for modules.
      
      // thickness approach would be as follows (but far more precise because of modules holes).                     
      //quantity 1.2        // 0.5 mm thick CFRP panel, with holes for the modules. Equivalent is set to 0.3 mm thickness (with no hole for modules). 
                            // 1 dee has 2 panels. Hence one double-disk crosses 4 panels through its thickness.
                            // total thickness = 4 * 0.3 = 1.2 mm
                            // Source: [1].
      //unit mm
    }   
  }

  
  
}

// [1] https://indico.cern.ch/event/770283/contributions/3238440/attachments/1767622/2870720/TEPX-IT-Mechanics-Review_Dec-2018.pdf IT Mechanice review, 07/12/2018
